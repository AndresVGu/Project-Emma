<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="Web Wiz Creations" content="Emma's small engine">
        <!-- Favicon -->
        <link rel="icon" type="image/png" href="css/imgs/purple_logo.png">
        <!--GoogleFonts Connection:-->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=GFS+Neohellenic&family=Julius+Sans+One&family=Overpass+Mono&family=Pontano+Sans&family=Roboto&family=Rubik:wght@400;700&display=swap" rel="stylesheet">
        <!--Bootstrap-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" 
        rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" 
        crossorigin="anonymous">
        <!--DataTable-->
        <link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/dataTables.bootstrap5.min.css">
        <!--Font Awesome-->
        <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
        <!--Custom Stylesheet-->
        <link rel="stylesheet" href="css/styles.css">
        <link rel="stylesheet" href="/Emma-s-Small-Engines-main/css/main/style.css">
        <link rel="stylesheet" href="/Emma-s-Small-Engines-main/css/main/dashboard.css">
        <!--Custom Scripts-->
        <script src="js/popup.js" defer></script>
        <!--Title-->
        <title>Repairs |Emma's Small Engines</title>
    </head>

<body>
    <!--SideBar Template-->>
<div class ='sidebar'>
    <a href="customer.html" class="logo">
        <img src="css/imgs/purple_logo.png" alt="emmas_logo">
        <div class="logo-name">
            <span>Emma's</span> Small Engines
        </div>
    </a>
                    
    <ul id ="pageLinks" class="side-menu">

        <li 
            data-bs-toggle="tooltip-mode" data-bs-placement="top" title="Customer">
                <a href="customer.html">
                    <i class="bx bxs-user" ></i>
                    <span class="links_name">Customer</span>
                </a>
                <span class="menu tooltip">Customer</span>
        </li>

        <li 
            data-bs-toggle="tooltip-mode" data-bs-placement="top" title="Equipment">
                <a href="equipment.html">
                    <i class="bx bxs-layer" ></i>
                    <span class="links_name">Equipment</span>
                </a>
                <span class="menu tooltip">Equipment</span>
        </li>

        <li class="active"
            data-bs-toggle="tooltip-mode" data-bs-placement="top" title="Repairs">
                <a href="repairs.html">
                    <i class="bx bxs-wrench" ></i>
                    <span class="links_name">Repairs</span>
                </a>
                <span class="menu tooltip">Repairs</span>
        </li>

        <li 
            data-bs-toggle="tooltip-mode" data-bs-placement="top" title="Reports" >
                <a href="report.html">
                    <i class="bx bxs-report" ></i>
                    <span class="links_name">Reports</span>
                </a>
                <span class="menu tooltip">Reports</span>
        </li>

        <li 
            data-bs-toggle="tooltip-mode" data-bs-placement="top" title="Suppliers" >
                <a href="supplier.html">
                    <i class="bx bxs-truck" ></i>
                    <span class="links_name">Suppliers</span>
                </a>
                <span class="menu tooltip">Suppliers</span>
        </li>

        <li 
            data-bs-toggle="tooltip-mode" data-bs-placement="top" title="Manage Roles" >
                <a href="manage_users.html">
                    <i class="bx bxs-cog" ></i>
                    <span class="links_name">Manage Roles</span>
                </a>
                    <span class="menu tooltip">Manage Roles</span>
        </li>
                    
        <li 
        data-bs-toggle="tooltip-mode" data-bs-placement="top" title="Log Out">
                <a href="#" onclick="loggingOut()">
                    <i class="bx bxs-log-out fa-solid"></i>
                    <span class="links_name">Log out</span>
                </a>
                    <span class="menu tooltip">Log out</span>
        </li>
    </ul>
</div>
<!--End of SideBar Template-->

<!--Nav Bar-->
<div class="content">
    <nav>
        <i class='bx bx-menu' data-bs-toggle="tooltip-mode" data-bs-placement="top" title="Collapse"></i>
        
        <form action="#">
        </form>

        <input type="checkbox" id="theme-toggle" hidden>
        
        <label for="theme-toggle" class="theme-toggle" 
        data-bs-toggle="tooltip-mode" data-bs-placement="top" title="Light/Dark Mode"></label>
        
        <!--QuestionMark Button-->
        <a href="#" class="notif"
        data-bs-toggle="tooltip-help" data-bs-placement="top" 
        title="This is a list of all Customers.
        &#10;To add a new Customer click on Add Customer.
        &#10;Use search to locate customer by Full Name or Id.
        &#10;Hovering over icons will display its function.
        &#10;To edit customer click on the customer and then click the edit button.
        &#10;To delete a customer click on the red trash can icon.&#10;Details link will open a new page with further details on the customer. 
        &#10;Keybinds:&#10;
        Press 'e' while a table row is selected to edit.&#10;
        Press 'a' while a table row is selected to add a new customer.&#10;">
            <i class='bx bx-question-mark'></i>
        </a>

        <!--User Greeting-->
        <a href="customer.html">
            <span  id="greeting"></span>
        </a>
        <span class="menu tooltip" id="greetingTooltip"></span>
    </nav>
<!-- End of Navbar -->
    <main class="pos_info">
        <section id="pos">
            <div class="pos_title">
                <div class ="pos_header">
                    <h1>Order No.</h1>
                    <h1 class="order_number" id="lblOrderNumber">#005</h1>
                </div>
                <div class="pos_search">
                    <h2 id="datetime">datetime</h2>
                </div>
            </div>
            
            <div class="search_container">
                <table class="search_by_phone">
                    <tr>
                        <td>
                            <a href="#" class="no-click" tabindex="-1"><i class="fa-solid fa-magnifying-glass"></i></a>
                        </td>
                        <td>
                            <div>
                                <input tabindex="65" id="txtPhoneSearch" class="phone-search" placeholder="Search">
                            </div>
                        </td>
                    </tr>
                </table>
                <table class="search_table">
                    <tr>
                        <td>
                            <div>
                                <input tabindex="66" list="customer-names" id="customer-list" class="customer-list" placeholder="Search Customer... Eg. John Doe">
                                    <datalist id="customer-names" name="customer-names">
                                    </datalist>
                            </div>
                        </td>
                        <td>
                            <button  tabindex="68" onclick="populateCustomerData()" class="btnCustView" id="btn_add_popup">Details</button>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="add_customer">
                <a href="#" tabindex="69" onclick="customerAdd()" aria-label="link for adding new customers"><i class="fa-solid fa-user-plus"></i></a>
            </div>
            
        </section>
        <div id="itemSearch">
            <div class="search_item_container">
                <table class="search_item_table">
                    <tbody>
                        <tr>
                            <td>
                                <a href="#" class="no-click" tabindex="-1"><i class="fa-solid fa-magnifying-glass"></i></a>
                            </td>
                            <td class="search_item_td">
                                <input tabindex="70" type="text" id="search-text" placeholder="Search Inventory by Name" class="search_item">
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div id="posMain">
            <div class = "description">
                <table class="table table-hover">
                    <tr  class="bg-info">
                        <th class="no-click" data-column="UPC" data-order="desc">Serial Number</th>
                        <th class="no-click" data-column="Name" data-order="desc">Name</th>
                        <th class="no-click" data-column="Size" data-order="desc">Size</th>
                        <th class="no-click" data-column="PriceRetail" data-order="desc">Price</th>
                        <th class="no-click" data-column="Quantity" data-order="desc">Stock</th>
                        <th></th>
                    </tr>
                    <tbody id="myTable">
                    </tbody>
                </table>
                <div id="pagination-wrapper"></div>
            </div>
        </div>
    </main>
    <section class="pos_pay">
        <div>
            <h1 id="lblCart">Cart</h1>
        </div>
        <div id="divCart" class="show_items">
            <table class="table table-striped">
                <tr class="bg-info sticky-th">
                    <th class="no-click" data-column="Name" data-order="desc">Name</th>
                    <th class="no-click" data-column="PriceRetail" data-order="desc">Price</th>
                    <th class="no-click" data-column="Quantity" data-order="desc">Quantity</th>
                    <th></th>
                </tr>
                <tbody id="myTableCheckout">
                </tbody>
            </table>
        </div>
        <div class="pay_amount">
            <div class="sub_total">
                <h2>Sub Total</h2>
                <h2 id="lblSubtotal">$0.00</h2>
            </div>
            <div class="tax">
                <h2>Tax</h2>
                <h2 id="lblTax">$0.00</h2>
            </div>
            <div class="pay_total">
                <h2>Total</h2>
                <h2 id="lblTotal">$0.00</h2>
            </div>
            <div class="pay_total paid">
                <h2>Paid</h2>
                <h2 id="lblPaid">$0.00</h2>
            </div>
            <div class="pay_total change">
                <h2 id="lblChangeHeader">Change</h2>
                <h2 id="lblChange">$0.00</h2>
            </div>
        </div>
        <div class="checkout">
            <h2 id="lblPaymentType">Payment Type</h2>
            <div id="chkContainer" class="outer-payment-container">
                <div class="payment-containter">
                    <input id="chkCASH" name="chkPay" class="chkPayment" type="checkbox" value="Cash">
                    <label tabindex="600" class="lblPayment" for="chkCASH"> CASH</label>
                </div>
                <div class="payment-containter">
                    <input id="chkDEBIT" name="chkPay" class="chkPayment" type="checkbox" value="Debit">
                    <label tabindex="610" class="lblPayment" for="chkDEBIT">DEBIT</label>
                </div>
                <div class="payment-containter">
                    <input id="chkCREDIT" name="chkPay" class="chkPayment" type="checkbox" value="Credit">
                    <label tabindex="620" class="lblPayment" for="chkCREDIT">CREDIT</label>
                </div>
                <div class="payment-containter">
                    <input id="chkCHEQUE" name="chkPay" class="chkPayment" type="checkbox" value="Cheque">
                    <label tabindex="630" class="lblPayment" for="chkCHEQUE">CHEQUE</label>
                </div>
            </div>
            <h2 id="lblAmount" tabindex="640" class="payment-sub">Payment Amount: $</h2><input placeholder="Enter Amount Here Ex. 25.99" id="txtAmount" type="text">
            <button tabindex="650" class="checkout-margin" id="btnCheckout" onclick="Checkout()">Checkout</button>
            <button tabindex="660" class="checkout-margin" id="btnClear" onclick="clearPos()">Clear</button>
        </div>
    </section>
    <!-- Modal Section-->
    <div id="modalContainter" tabindex="209">
    </div>
    <div class="bg_popup">
        <!-- The form -->
        <div class="form-popup" id="myForm">
            <div class="form-container">
                <h4 id='add_edit'>Customer Details</h4> 
                
                <label ><b>Name</b></label>
                <input tabindex="210" type="text" id="formName" readonly name="Name" required>

                <label><b>Phone</b></label>
                <input tabindex="220" type="text" id="formPhone" name="Phone" readonly required>

                <label ><b>Address</b></label>
                <input tabindex="230" type="text" id="formAddress" name="Address" readonly required>

                <label ><b>Postal</b></label>
                <input tabindex="240" type="text" id="formPostal" name="Quantity" readonly required>

                <button tabindex="250" class="btn_cancel" value="submit">Close</button>

                <div tabindex="261" id="modalTrap" onfocus="focusForm()"></div>
            </div>
        </div>
    </div>
    <div class="bg_popup secondPopup">
        <!-- The form -->
        <div class="form-popup" id="myForm">
            <div class="form-container">
                <h4 id='edit-cust'>Add Customer</h4> 
                
                <label style="margin-top: 22px;" ><b>First Name</b></label>
                <input class="no-bottom-margin" tabindex="210" type="text" placeholder="Enter First Name" id="formCustomerFirst" name="CustomerFirstName" required>
                
                <label style="margin-top: 22px;" ><b>Last Name</b></label>
                <input class="no-bottom-margin" tabindex="210" type="text" placeholder="Enter Last Name" id="formCustomerLast" name="CustomerLastName" required>
                
                <label style="margin-top: 22px;"><b>Phone Number</b></label>
                <input class="no-bottom-margin" tabindex="220" type="text" placeholder="Enter Phone Number" id="formCustomerPhone" name="CustomerPhone" required>

                <label style="margin-top: 22px;"><b>Address</b></label>
                <input class="no-bottom-margin" tabindex="230" type="text" placeholder="Enter Address" id="formCustomerAddress" name="CustomerAddress" required>

                <label style="margin-top: 22px;"><b>City</b></label>
                <input class="no-bottom-margin" tabindex="240" type="text" placeholder="Enter City" id="formCustomerCity" name="CustomerCity" required>

                <label style="margin-top: 22px;"><b>Province</b></label>
                <input class="no-bottom-margin" tabindex="241" type="text" placeholder="Enter Province" id="formCustomerProvince" name="CustomerProvince" required>
                
                <label style="margin-top: 22px;"><b>Postal Code</b></label>
                <input class="no-bottom-margin" tabindex="242" type="text" placeholder="Enter Postal Code" id="formCustomerPostal" name="CustomerPostal" required>

                <button tabindex="270" class="btn_submit" onclick="addCustomerCrud()" value="submit">Submit</button>
                <button tabindex="270" class="btn_cancel" onclick="closePopup()" value="cancel">Close</button>

                <div tabindex="271" id="modalTrap" onfocus="focusForm()"></div>
            </div>
        </div>
    </div>
    <button class="pos-help">
        <i class="fa-solid fa-circle-question"></i>
        <span class="pos-help_tooltip"><b>POS Instructions:</b><br />
            <b>Step 1.</b> Select a customer to the right of the order number.<br />
            <b>Note:</b> You can search by phone number, or customer name.
            <b>Step 2.</b> Add inventory items to the cart by clicking the '+' button beside an item. You can remove an item by clicking
            'x' to the right of an item in the cart.<br />
            <b>Step 3.</b> Select a payment type and enter the amount in the underlined area.<br />
            <b>Note:</b> If you select cash and enter an amount more than total, once the payment has been processed it will display the change.<br />
            <b>Step 4.</b> Press '<b>Checkout</b>' to complete your order. <br />
            <b>Optional:</b> View the invoice after the sale has concluded by selecting '<b>View Invoice</b>' or press '<b>Clear</b>' to create a new order.
        </span>
    </button>
     <!--Footer-->
     <footer class=" foot">
        <div class="group-1">
            <div class="box">
                <figure><a href="#">
                    <img src="/Emma-s-Small-Engines-main/css/imgs/logoWhite.png" alt="web wizerds white logo">
                </a></figure>
            </div>
            <div class="box">
                <h2>Emma's Small Engines</h2>
                <p>PROG1180-03 | Project Planning & Design</p>
            </div>
            <div class="box">
                <div class="social">
                    <a href="https://github.com/AndresVGu/emmas_small_engines/tree/master" >
                        <i class="fa-brands fa-github" ></i>
                    </a>
                </div>
            </div>
        </div>
        <div class="group-2">
            <small>&copy; 2023 <b>Web Wizzards Creations</b> - All rights reserved</small>
        </div>
    </footer>
    </div>
    <!--End Footer-->
    <!--JQuery-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <!--DataTable-->
    <script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.7/js/dataTables.bootstrap5.min.js"></script>
    <!--Sweet Alert-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js" integrity="sha512-AA1Bzp5Q0K1KanKKmvN/4d3IRKVlv9PYgwFPvm32nPO6QS8yH1HO7LbgB1pgiOxPtfeg5zEn2ba64MUcqJx6CA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!--Bootstrap-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://kit.fontawesome.com/f8c88d6b79.js" crossorigin="anonymous"></script> 
    <script src="js/variables.js"></script>  
    <script src="js/pos.js"></script>
    <script src="js/dashboard.js"></script>   
</body>